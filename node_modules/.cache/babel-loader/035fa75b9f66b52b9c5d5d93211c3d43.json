{"ast":null,"code":"var _jsxFileName = \"/Users/jeffbond/Documents/Projects/full-stack-master/client/src/screens/Products/Products.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport './Products.css';\nimport Product from '../../components/Product/Product';\nimport Search from '../../components/Search/Search';\nimport { AZ, ZA, lowestFirst, highestFirst } from \"../../utils/sort\";\nimport Sort from '../../components/Sort/Sort';\nimport Layout from '../../components/shared/Layout/Layout';\nimport { getProducts } from '../../services/products';\n\nconst Products = props => {\n  const [allProducts, setAllProducts] = useState([]);\n  const [queriedProducts, setQueriedProducts] = useState([]);\n  const [sortType, setSortType] = useState([]);\n  useEffect(() => {\n    const fetchProducts = async () => {\n      const products = await getProducts();\n      setAllProducts(products);\n      setQueriedProducts(products);\n    };\n\n    fetchProducts();\n  }, []);\n\n  const handleSort = type => {\n    setSortType(type);\n\n    switch (type) {\n      case \"name-ascending\":\n        setQueriedProducts(AZ(queriedProducts));\n        break;\n\n      case \"name-descending\":\n        setQueriedProducts(ZA(queriedProducts));\n        break;\n\n      case \"price-ascending\":\n        setQueriedProducts(lowestFirst(queriedProducts));\n        break;\n\n      case \"price-descending\":\n        setQueriedProducts(highestFirst(queriedProducts));\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const handleSearch = event => {\n    const newQueriedProducts = allProducts.filter(product => product.name.toLowerCase().includes(event.target.value.toLowerCase()));\n    setQueriedProducts(newQueriedProducts, () => handleSort(sortType));\n  };\n\n  const handleSubmit = event => event.preventDefault();\n\n  const productsJSX = queriedProducts.map((product, index) => /*#__PURE__*/React.createElement(Product, {\n    _id: product._id,\n    name: product.name,\n    imgURL: product.imgURL,\n    price: product.price,\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }));\n  return /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    onSubmit: handleSubmit,\n    onChange: handleSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Sort, {\n    onSubmit: handleSubmit,\n    onChange: handleSort,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, productsJSX));\n};\n\nexport default Products;","map":{"version":3,"sources":["/Users/jeffbond/Documents/Projects/full-stack-master/client/src/screens/Products/Products.jsx"],"names":["React","useState","useEffect","Product","Search","AZ","ZA","lowestFirst","highestFirst","Sort","Layout","getProducts","Products","props","allProducts","setAllProducts","queriedProducts","setQueriedProducts","sortType","setSortType","fetchProducts","products","handleSort","type","handleSearch","event","newQueriedProducts","filter","product","name","toLowerCase","includes","target","value","handleSubmit","preventDefault","productsJSX","map","index","_id","imgURL","price"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport './Products.css'\n\nimport Product from '../../components/Product/Product'\nimport Search from '../../components/Search/Search'\nimport { AZ, ZA, lowestFirst, highestFirst } from \"../../utils/sort\"\nimport Sort from '../../components/Sort/Sort'\nimport Layout from '../../components/shared/Layout/Layout'\nimport { getProducts } from '../../services/products'\n\nconst Products = (props) => {\n  const [allProducts, setAllProducts] = useState([])\n  const [queriedProducts, setQueriedProducts] = useState([])\n  const [sortType, setSortType] = useState([])\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      const products = await getProducts()\n      setAllProducts(products)\n      setQueriedProducts(products)\n    }\n    fetchProducts()\n  }, [])\n\n  const handleSort = type => {\n    setSortType(type)\n    switch (type) {\n      case \"name-ascending\":\n        setQueriedProducts(AZ(queriedProducts))\n        break\n      case \"name-descending\":\n        setQueriedProducts(ZA(queriedProducts))\n        break\n      case \"price-ascending\":\n        setQueriedProducts(lowestFirst(queriedProducts))\n        break\n      case \"price-descending\":\n        setQueriedProducts(highestFirst(queriedProducts))\n        break\n      default:\n        break\n    }\n  }\n\n  const handleSearch = event => {\n    const newQueriedProducts = allProducts.filter(product => product.name.toLowerCase().includes(event.target.value.toLowerCase()))\n    setQueriedProducts(newQueriedProducts, () => handleSort(sortType))\n  }\n\n  const handleSubmit = event => event.preventDefault()\n\n  const productsJSX = queriedProducts.map((product, index) =>\n    <Product _id={product._id} name={product.name} imgURL={product.imgURL} price={product.price} key={index} />\n  )\n\n  return (\n    <Layout>\n      <Search onSubmit={handleSubmit} onChange={handleSearch} />\n      <Sort onSubmit={handleSubmit} onChange={handleSort} />\n      <div className=\"products\">\n        {productsJSX}\n      </div>\n    </Layout>\n  )\n}\n\n\nexport default Products"]},"metadata":{},"sourceType":"module"}